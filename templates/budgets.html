{% extends "base.html" %}

{% block title %}Budgets - Chengeta{% endblock %}

{% block content %}
<div class="budgets-page">
    <!-- Page Header -->
    <div class="page-header">
        <h1>Budget Management</h1>
        <button class="btn btn-primary" onclick="showSetBudgetModal()">+ Set Budget</button>
    </div>

    <!-- Budget Cards -->
    <div id="budgets-container" class="budgets-grid">
        <div class="loading-message">Loading budgets...</div>
    </div>

    <!-- Empty State -->
    <div id="empty-state" class="empty-state" style="display: none;">
        <div class="empty-icon">ðŸ“Š</div>
        <h3>No Budgets Set</h3>
        <p>Start managing your finances by setting budgets for different categories</p>
        <button class="btn btn-primary" onclick="showSetBudgetModal()">Set Your First Budget</button>
    </div>
</div>

<!-- Set Budget Modal -->
<div id="set-budget-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Set Budget</h2>
            <span class="close" onclick="closeBudgetModal()">&times;</span>
        </div>
        <form id="set-budget-form">
            <div class="form-group">
                <label for="budget-category">Category</label>
                <input type="text" id="budget-category" name="category" required placeholder="e.g., Food, Transport">
            </div>
            <div class="form-group">
                <label for="budget-amount">Amount ($)</label>
                <input type="number" id="budget-amount" name="amount" step="0.01" required placeholder="0.00">
            </div>
            <div class="form-group">
                <label for="budget-period">Period</label>
                <select id="budget-period" name="period" required>
                    <option value="weekly">Weekly</option>
                    <option value="monthly" selected>Monthly</option>
                    <option value="yearly">Yearly</option>
                </select>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" onclick="closeBudgetModal()">Cancel</button>
                <button type="submit" class="btn btn-primary">Set Budget</button>
            </div>
        </form>
    </div>
</div>

<!-- Delete Budget Modal -->
<div id="delete-budget-modal" class="modal">
    <div class="modal-content modal-sm">
        <div class="modal-header">
            <h2>Delete Budget</h2>
            <span class="close" onclick="closeDeleteBudgetModal()">&times;</span>
        </div>
        <p>Are you sure you want to delete this budget?</p>
        <div class="modal-actions">
            <button type="button" class="btn btn-secondary" onclick="closeDeleteBudgetModal()">Cancel</button>
            <button type="button" class="btn btn-danger" onclick="confirmDeleteBudget()">Delete</button>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/budgets.js') }}"></script>
{% endblock %}

